<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>SuperSpyBuilder - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Mock.html">Mock</a><ul class='methods'><li data-type='method'><a href="Mock.html#reset">reset</a></li></ul></li><li><a href="ObjectMock.html">ObjectMock</a><ul class='methods'><li data-type='method'><a href="ObjectMock.html#addMock">addMock</a></li><li data-type='method'><a href="ObjectMock.html#addPromiseMock">addPromiseMock</a></li><li data-type='method'><a href="ObjectMock.html#restore">restore</a></li></ul></li><li><a href="PromiseMock.html">PromiseMock</a><ul class='methods'><li data-type='method'><a href="PromiseMock.html#promise">promise</a></li><li data-type='method'><a href="PromiseMock.html#reject">reject</a></li><li data-type='method'><a href="PromiseMock.html#reset">reset</a></li><li data-type='method'><a href="PromiseMock.html#resolve">resolve</a></li></ul></li><li><a href="SuperSpy.html">SuperSpy</a></li><li><a href="SuperSpyBuilder.html">SuperSpyBuilder</a><ul class='methods'><li data-type='method'><a href="SuperSpyBuilder.html#addMock">addMock</a></li><li data-type='method'><a href="SuperSpyBuilder.html#inject">inject</a></li><li data-type='method'><a href="SuperSpyBuilder.html#restore">restore</a></li></ul></li></ul><h3>Modules</h3><ul><li><a href="module-asyncHelper.html">asyncHelper</a><ul class='methods'><li data-type='method'><a href="module-asyncHelper.html#.wait">wait</a></li></ul></li><li><a href="module-consoleHelper.html">consoleHelper</a><ul class='methods'><li data-type='method'><a href="module-consoleHelper.html#.mute">mute</a></li><li data-type='method'><a href="module-consoleHelper.html#.unmute">unmute</a></li></ul></li><li><a href="module-testValues.html">testValues</a><ul class='methods'><li data-type='method'><a href="module-testValues.html#.allButArray">allButArray</a></li><li data-type='method'><a href="module-testValues.html#.allButBoolean">allButBoolean</a></li><li data-type='method'><a href="module-testValues.html#.allButFunction">allButFunction</a></li><li data-type='method'><a href="module-testValues.html#.allButNull">allButNull</a></li><li data-type='method'><a href="module-testValues.html#.allButNumber">allButNumber</a></li><li data-type='method'><a href="module-testValues.html#.allButObject">allButObject</a></li><li data-type='method'><a href="module-testValues.html#.allButSelected">allButSelected</a></li><li data-type='method'><a href="module-testValues.html#.allButString">allButString</a></li><li data-type='method'><a href="module-testValues.html#.allButUndefined">allButUndefined</a></li><li data-type='method'><a href="module-testValues.html#.getNumber">getNumber</a></li><li data-type='method'><a href="module-testValues.html#.getString">getString</a></li><li data-type='method'><a href="module-testValues.html#.getTimestamp">getTimestamp</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">SuperSpyBuilder</h1>
    

    




<section>

<header>
    
        <h2>
        SuperSpyBuilder
        </h2>
        
            <div class="class-description">Builder class that can be used to inject an intermediate spy between a parent
class and child class, making it possible to spy on <strong>super()</strong>
calls made by the child.

The builder also supports injection of mocks on the parent class' prototype,
enabling spying on calls made by the child class on methods inherited from
the parent class.

The class exposes methods that will allow the mock/spy references to be torn
down after testing.

Calls to <strong>super()</strong> will automatically be spied upon, and the
parent class' <strong>super()</strong> method will be called after the spy
has been called.</div>
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="SuperSpyBuilder"><span class="type-signature"></span>new SuperSpyBuilder<span class="signature">(ParentClass, ChildClass)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="super-spy-builder.js.html">super-spy-builder.js</a>, <a href="super-spy-builder.js.html#line26">line 26</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ParentClass</code></td>
            

            <td class="type">
            
                
<span class="param-type">Class</span>


            
            </td>

            

            

            <td class="description last">The parent class</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ChildClass</code></td>
            

            <td class="type">
            
                
<span class="param-type">Class</span>


            
            </td>

            

            

            <td class="description last">The child class</td>
        </tr>

    
    </tbody>
</table>



















        
        </div>
    

    

    

    
    
    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="mocks"><span class="type-signature"></span>mocks<span class="type-signature"> :Object</span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="super-spy-builder.js.html">super-spy-builder.js</a>, <a href="super-spy-builder.js.html#line52">line 52</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    An object containing references to stub instances for each of the methods
on the parent that has been mocked. The stubs returned are references to
<a href="http://sinonjs.org/releases/v4.5.0/stubs/">sinon stubs</a>.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="addMock"><span class="type-signature"></span>addMock<span class="signature">(method, fake<span class="signature-attributes">opt</span>, skipSuperMethod<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="super-spy-builder.js.html">super-spy-builder.js</a>, <a href="super-spy-builder.js.html#line80">line 80</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Creates a mock on the parent class. The mock method intercepts any calls
to the parent method, and logs the invocation against the corresponding
mock spy reference.

<p>The mocks are not applied to the parent class' prototype until the
SuperSpyBuilder.inject method is called. </p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>method</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">The name of the method on the parent on which to
       apply the mock. If a value of "super()" is passed, an error will
       be thrown. This method must be defined by the parent class.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fake</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">A fake function that will be invoked
       every time the parent method is called. If possible, the function
       will be invoked in the context of the instance with a valid
       <strong>this</strong> parameter. This will not work if the fake is
       an
       <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions">arrow function</a></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>skipSuperMethod</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>false</code>
                
                </td>
            

            <td class="description last">A boolean that indicates if the
       actual method on the parent should be invoked after the fake is
       invoked. The parent method will be invoked by default.</td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    A reference to this object (can be used to chain method
        calls)
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="inject"><span class="type-signature"></span>inject<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="SuperSpy.html">SuperSpy</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="super-spy-builder.js.html">super-spy-builder.js</a>, <a href="super-spy-builder.js.html#line124">line 124</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Generates and injects a spy class between a parent and child class,
changing the inheritance hierarchy from:

<p><strong>ParentClass --> Child hierarchy</strong></p>

to:

<p><strong>ParentClass --> SuperSpy --> Child</strong></p>

<p>
Additionally, this method modifies the parent class prototype, creating
mocks as defined by calls to <a href="SuperSpyBuilder.html#addMock">addMock()</a>.
</p>
</div>

























<h5>Returns:</h5>

        
<div class="param-desc">
    A reference to the spy class, that is injected between
        the parent and the child.
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="SuperSpy.html">SuperSpy</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="restore"><span class="type-signature"></span>restore<span class="signature">()</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="super-spy-builder.js.html">super-spy-builder.js</a>, <a href="super-spy-builder.js.html#line180">line 180</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Restores the relationship between parent and child, by removing the spy
class from the hierarchy, changing the inheritance hierarchy from:
<p><strong>ParentClass --> SuperSpy --> Child</strong></p>
to:
<p><strong>ParentClass --> Child</strong></p>
<p>
Any mocks injected into the parent class' prototype are also removed,
restoring the Parent prototype to its original form.
</p>
</div>




























        
    

    

    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> on Tue Jan 14 2020 09:33:07 GMT-0500 (Eastern Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>